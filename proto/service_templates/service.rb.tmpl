module Protocol
  module SpannerExample
    class {{.Service.Name}}Service < Protocol::Service
      self.service_name = :{{snakeCase .Service.Name}}_service

      {{- range .Service.Method}}
      rpc :{{snakeCase .Name}}, Protocol::SpannerExample::{{.Name}}Request, Protocol::SpannerExample::{{.Name}}Response
      {{- end}}
    end
    Protocol.register_service :{{snakeCase .Service.Name}}, {{.Service.Name}}Service
  end
end
